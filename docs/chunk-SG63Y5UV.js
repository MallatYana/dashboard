import{$ as yr,$a as ci,$b as Ce,A as N,Aa as Zn,Ab as ja,B as nr,Ba as Yn,Bb as re,C as fr,Ca as Kn,Cb as ae,D as An,Da as Wn,Db as aa,E as Ar,Ea as qn,Eb as ee,F as wr,Fa as Jn,Fb as te,G as En,Ga as Qn,Gb as ne,H as Fr,Ha as $n,Hb as ie,I as Ca,Ia as jn,Ib as oe,J as Aa,Ja as ri,Jb as ve,K as lr,Ka as ai,Kb as se,L as Y,La as ei,Lb as fe,M as Ea,Ma as ti,Mb as le,N as Zr,Na as ni,Nb as de,O as Pa,Oa as ii,Ob as ue,P as ka,Pa as oi,Pb as pe,Q as K,Qa as vi,Qb as ce,R as Yr,Ra as si,Rb as he,S as ba,Sa as fi,Sb as ge,T as Er,Ta as E,Tb as me,U as dr,Ua as Jr,Ub as xe,V as Kr,Va as li,Vb as ye,W as Pr,Wa as Na,Wb as Me,X as Wr,Xa as Ha,Xb as Te,Y as Ba,Ya as di,Yb as Ie,Z as xr,Za as ui,Zb as Le,_ as qr,_a as pi,_b as _e,a as In,aa as Sa,ab as hi,ac as Ae,b as Ln,ba as Da,bb as gi,bc as Ee,c as ga,ca as Mr,cb as mi,cc as Pe,d as mr,da as kr,db as xi,dc as ke,e as Z,ea as Ra,eb as yi,ec as be,f as Ur,fa as Ga,fb as Mi,fc as Be,g as P,ga as Pn,gb as Ti,gc as Se,h as U,ha as kn,hb as Ii,hc as De,i as ar,ia as Oa,ib as Qr,ic as Re,j as er,ja as W,jb as Ua,jc as Ge,k as ma,ka as bn,kb as za,kc as Oe,l as tr,la as br,lb as $r,lc as Ne,m as zr,ma as Bn,mb as Xa,mc as He,n as xa,na as Sn,nb as jr,nc as Ue,o as ya,oa as Dn,ob as Va,oc as ze,p as Ma,pa as Rn,pb as wa,pc as Xe,q as Ta,qa as Gn,qb as Fa,qc as Ve,r as sr,ra as On,rb as Za,rc as we,s as _n,sa as Nn,sb as Ya,sc as Fe,t as Ia,ta as Hn,tb as Ka,tc as Ze,u as Xr,ua as Un,ub as Wa,uc as Ye,v as Cn,va as zn,vb as qa,vc as Ke,w as Vr,wa as Xn,wb as Ja,wc as We,x as La,xa as Vn,xb as ra,y as _a,ya as wn,yb as Qa,z as kt,za as Fn,zb as $a}from "./chunk-7VN4H3AR.js";import"./chunk-QEZ3K4DX.js";function bt(a){if(a){for(var r=[],t=0; t<a.length; t++)r.push(a[t].slice());return r}}function Bt(a, r){var t=a.label,e=r&&r.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:bt(e&&e.shape.points)}}var qe=["align","verticalAlign","width","height","fontSize"],z=new Ar,ea=Y(),St=Y();function Br(a, r, t){for(var e=0; e<t.length; e++){var n=t[e];r[n]!=null&&(a[n]=r[n])}}var Sr=["x","y","rotation"],Dt=function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(r, t, e, n, i){var v=n.style,o=n.__hostTarget,s=o.textConfig||{},f=n.getComputedTransform(),l=n.getBoundingRect().plain();nr.applyTransform(l,l,f),f?z.setLocalTransform(f):(z.x=z.y=z.rotation=z.originX=z.originY=0,z.scaleX=z.scaleY=1),z.rotation=ka(z.rotation);var u=n.__hostTarget,d;if(u){d=u.getBoundingRect().plain();var p=u.getComputedTransform();nr.applyTransform(d,d,p)}var g=d&&u.getTextGuideLine();this._labelList.push({label:n,labelLine:g,seriesModel:e,dataIndex:r,dataType:t,layoutOptionOrCb:i,layoutOption:null,rect:l,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:n.ignore,labelGuideIgnore:g&&g.ignore,x:z.x,y:z.y,scaleX:z.scaleX,scaleY:z.scaleY,rotation:z.rotation,style:{x:v.x,y:v.y,align:v.align,verticalAlign:v.verticalAlign,width:v.width,height:v.height,fontSize:v.fontSize},cursor:n.cursor,attachedPos:s.position,attachedRot:s.rotation}})},a.prototype.addLabelsOfSeries=function(r){var t=this;this._chartViewList.push(r);var e=r.__model,n=e.get("labelLayout");(zr(n)||ma(n).length)&&r.group.traverse(function(i){if(i.ignore)return!0;var v=i.getTextContent(),o=Er(i);v&&!v.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,e,v,n)})},a.prototype.updateLayoutConfig=function(r){var t=r.getWidth(),e=r.getHeight();function n(m, _){return function(){Qr(m,_)}}for(var i=0; i<this._labelList.length; i++){var v=this._labelList[i],o=v.label,s=o.__hostTarget,f=v.defaultAttr,l=void 0;zr(v.layoutOptionOrCb)?l=v.layoutOptionOrCb(Bt(v,s)):l=v.layoutOptionOrCb,l=l||{},v.layoutOption=l;var u=Math.PI/180;s&&s.setTextConfig({local:!1,position:l.x!=null||l.y!=null?null:f.attachedPos,rotation:l.rotate!=null?l.rotate*u:f.attachedRot,offset:[l.dx||0,l.dy||0]});var d=!1;if(l.x!=null?(o.x=Fr(l.x,t),o.setStyle("x",0),d=!0):(o.x=f.x,o.setStyle("x",f.style.x)),l.y!=null?(o.y=Fr(l.y,e),o.setStyle("y",0),d=!0):(o.y=f.y,o.setStyle("y",f.style.y)),l.labelLinePoints){var p=s.getTextGuideLine();p&&(p.setShape({points:l.labelLinePoints}),d=!1)}var g=ea(o);g.needsUpdateLabelLine=d,o.rotation=l.rotate!=null?l.rotate*u:f.rotation,o.scaleX=f.scaleX,o.scaleY=f.scaleY;for(var h=0; h<qe.length; h++){var c=qe[h];o.setStyle(c,l[c]!=null?l[c]:f.style[c])}if(l.draggable){if(o.draggable=!0,o.cursor="move",s){var T=v.seriesModel;if(v.dataIndex!=null){var I=v.seriesModel.getData(v.dataType);T=I.getItemModel(v.dataIndex)}o.on("drag",n(s,T.getModel("labelLine")))}}else o.off("drag"),o.cursor=f.cursor}},a.prototype.layout=function(r){var t=r.getWidth(),e=r.getHeight(),n=[];P(this._labelList,function(s){s.defaultAttr.ignore||n.push(Xa({},s))});var i=ar(n,function(s){return s.layoutOption.moveOverlap==="shiftX"}),v=ar(n,function(s){return s.layoutOption.moveOverlap==="shiftY"});jr(i,0,0,t),jr(v,1,0,e);var o=ar(n,function(s){return s.layoutOption.hideOverlap});Va(o),wa(o)},a.prototype.processLabelsOverall=function(){var r=this;P(this._chartViewList,function(t){var e=t.__model,n=t.ignoreLabelLineUpdate,i=e.isAnimationEnabled();t.group.traverse(function(v){if(v.ignore&&!v.forceLabelAnimation)return!0;var o=!n,s=v.getTextContent();!o&&s&&(o=ea(s).needsUpdateLabelLine),o&&r._updateLabelLine(v,e),i&&r._animateLabels(v,e)})})},a.prototype._updateLabelLine=function(r, t){var e=r.getTextContent(),n=Er(r),i=n.dataIndex;if(e&&i!=null){var v=t.getData(n.dataType),o=v.getItemModel(i),s={},f=v.getItemVisual(i,"style");if(f){var l=v.getVisual("drawType");s.stroke=f[l]}var u=o.getModel("labelLine");Ua(r,za(o),s),Qr(r,u)}},a.prototype._animateLabels=function(r, t){var e=r.getTextContent(),n=r.getTextGuideLine();if(e&&(r.forceLabelAnimation||!e.ignore&&!e.invisible&&!r.disableLabelAnimation&&!Sa(r))){var i=ea(e),v=i.oldLayout,o=Er(r),s=o.dataIndex,f={x:e.x,y:e.y,rotation:e.rotation},l=t.getData(o.dataType);if(v){e.attr(v);var d=r.prevStates;d&&(Ur(d,"select")>=0&&e.attr(i.oldLayoutSelect),Ur(d,"emphasis")>=0&&e.attr(i.oldLayoutEmphasis)),qr(e,f,t,s)}else if(e.attr(f),!Ra(e).valueAnimation){var u=ya(e.style.opacity,1);e.style.opacity=0,yr(e,{style:{opacity:u}},t,s)}if(i.oldLayout=f,e.states.select){var p=i.oldLayoutSelect={};Br(p,f,Sr),Br(p,e.states.select,Sr)}if(e.states.emphasis){var g=i.oldLayoutEmphasis={};Br(g,f,Sr),Br(g,e.states.emphasis,Sr)}Ga(e,s,l,t,t)}if(n&&!n.ignore&&!n.invisible){var i=St(n),v=i.oldLayout,h={points:n.shape.points};v?(n.attr({shape:v}),qr(n,{shape:h},t)):(n.setShape(h),n.style.strokePercent=0,yr(n,{style:{strokePercent:1}},t)),i.oldLayout=h}},a}(),Je=Dt;var ta=Y();function na(a){a.registerUpdateLifecycle("series:beforeupdate",function(r, t, e){var n=ta(t).labelManager;n||(n=ta(t).labelManager=new Je),n.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(r, t, e){var n=ta(t).labelManager;e.updatedSeries.forEach(function(i){n.addLabelsOfSeries(t.getViewOfSeriesModel(i))}),n.updateLayoutConfig(t),n.layout(t),n.processLabelsOverall()})}var w=Pa.CMD;function ur(a, r){return Math.abs(a-r)<1e-5}function Dr(a){var r=a.data,t=a.len(),e=[],n,i=0,v=0,o=0,s=0;function f(k, D){n&&n.length>2&&e.push(n),n=[k,D]}function l(k, D, G, B){ur(k,G)&&ur(D,B)||n.push(k,D,G,B,G,B)}function u(k, D, G, B, R, O){var H=Math.abs(D-k),X=Math.tan(H/4)*4/3,V=D<k?-1:1,Q=Math.cos(k),F=Math.sin(k),ir=Math.cos(D),Lr=Math.sin(D),hr=Q*R+G,or=F*O+B,$=ir*R+G,j=Lr*O+B,vr=R*X*V,gr=O*X*V;n.push(hr-vr*F,or+gr*Q,$+vr*Lr,j-gr*ir,$,j)}for(var d,p,g,h,c=0; c<t;){var T=r[c++],I=c===1;switch(I&&(i=r[c],v=r[c+1],o=i,s=v,(T===w.L||T===w.C||T===w.Q)&&(n=[o,s])),T){case w.M:i=o=r[c++],v=s=r[c++],f(o,s);break;case w.L:d=r[c++],p=r[c++],l(i,v,d,p),i=d,v=p;break;case w.C:n.push(r[c++],r[c++],r[c++],r[c++],i=r[c++],v=r[c++]);break;case w.Q:d=r[c++],p=r[c++],g=r[c++],h=r[c++],n.push(i+2/3*(d-i),v+2/3*(p-v),g+2/3*(d-g),h+2/3*(p-h),g,h),i=g,v=h;break;case w.A:var m=r[c++],_=r[c++],x=r[c++],y=r[c++],L=r[c++],C=r[c++]+L;c+=1;var M=!r[c++];d=Math.cos(L)*x+m,p=Math.sin(L)*y+_,I?(o=d,s=p,f(o,s)):l(i,v,d,p),i=Math.cos(C)*x+m,v=Math.sin(C)*y+_;for(var A=(M?-1:1)*Math.PI/2,b=L; M?b>C:b<C; b+=A){var S=M?Math.max(b+A,C):Math.min(b+A,C);u(b,S,m,_,x,y)}break;case w.R:o=i=r[c++],s=v=r[c++],d=o+r[c++],p=s+r[c++],f(d,s),l(d,s,d,p),l(d,p,o,p),l(o,p,o,s),l(o,s,d,s);break;case w.Z:n&&l(i,v,o,s),i=o,v=s;break}}return n&&n.length>2&&e.push(n),e}function ia(a, r, t, e, n, i, v, o, s, f){if(ur(a,t)&&ur(r,e)&&ur(n,v)&&ur(i,o)){s.push(v,o);return}var l=2/f,u=l*l,d=v-a,p=o-r,g=Math.sqrt(d*d+p*p);d/=g,p/=g;var h=t-a,c=e-r,T=n-v,I=i-o,m=h*h+c*c,_=T*T+I*I;if(m<u&&_<u){s.push(v,o);return}var x=d*h+p*c,y=-d*T-p*I,L=m-x*x,C=_-y*y;if(L<u&&x>=0&&C<u&&y>=0){s.push(v,o);return}var M=[],A=[];fr(a,t,n,v,.5,M),fr(r,e,i,o,.5,A),ia(M[0],A[0],M[1],A[1],M[2],A[2],M[3],A[3],s,f),ia(M[4],A[4],M[5],A[5],M[6],A[6],M[7],A[7],s,f)}function Qe(a, r){var t=Dr(a),e=[];r=r||1;for(var n=0; n<t.length; n++){var i=t[n],v=[],o=i[0],s=i[1];v.push(o,s);for(var f=2; f<i.length;){var l=i[f++],u=i[f++],d=i[f++],p=i[f++],g=i[f++],h=i[f++];ia(o,s,l,u,d,p,g,h,v,r),o=g,s=h}e.push(v)}return e}function at(a, r, t){var e=a[r],n=a[1-r],i=Math.abs(e/n),v=Math.ceil(Math.sqrt(i*t)),o=Math.floor(t/v);o===0&&(o=1,v=t);for(var s=[],f=0; f<v; f++)s.push(o);var l=v*o,u=t-l;if(u>0)for(var f=0; f<u; f++)s[f%v]+=1;return s}function $e(a, r, t){for(var e=a.r0,n=a.r,i=a.startAngle,v=a.endAngle,o=Math.abs(v-i),s=o*n,f=n-e,l=s>Math.abs(f),u=at([s,f],l?0:1,r),d=(l?o:f)/u.length,p=0; p<u.length; p++)for(var g=(l?f:o)/u[p],h=0; h<u[p]; h++){var c={};l?(c.startAngle=i+d*p,c.endAngle=i+d*(p+1),c.r0=e+g*h,c.r=e+g*(h+1)):(c.startAngle=i+g*h,c.endAngle=i+g*(h+1),c.r0=e+d*p,c.r=e+d*(p+1)),c.clockwise=a.clockwise,c.cx=a.cx,c.cy=a.cy,t.push(c)}}function Rt(a, r, t){for(var e=a.width,n=a.height,i=e>n,v=at([e,n],i?0:1,r),o=i?"width":"height",s=i?"height":"width",f=i?"x":"y",l=i?"y":"x",u=a[o]/v.length,d=0; d<v.length; d++)for(var p=a[s]/v[d],g=0; g<v[d]; g++){var h={};h[f]=d*u,h[l]=g*p,h[o]=u,h[s]=p,h.x+=a.x,h.y+=a.y,t.push(h)}}function je(a, r, t, e){return a*e-t*r}function Gt(a, r, t, e, n, i, v, o){var s=t-a,f=e-r,l=v-n,u=o-i,d=je(l,u,s,f);if(Math.abs(d)<1e-6)return null;var p=a-n,g=r-i,h=je(p,g,l,u)/d;return h<0||h>1?null:new N(h*s+a,h*f+r)}function Ot(a, r, t){var e=new N;N.sub(e,t,r),e.normalize();var n=new N;N.sub(n,a,r);var i=n.dot(e);return i}function pr(a, r){var t=a[a.length-1];t&&t[0]===r[0]&&t[1]===r[1]||a.push(r)}function Nt(a, r, t){for(var e=a.length,n=[],i=0; i<e; i++){var v=a[i],o=a[(i+1)%e],s=Gt(v[0],v[1],o[0],o[1],r.x,r.y,t.x,t.y);s&&n.push({projPt:Ot(s,r,t),pt:s,idx:i})}if(n.length<2)return[{points:a},{points:a}];n.sort(function(c, T){return c.projPt-T.projPt});var f=n[0],l=n[n.length-1];if(l.idx<f.idx){var u=f;f=l,l=u}for(var d=[f.pt.x,f.pt.y],p=[l.pt.x,l.pt.y],g=[d],h=[p],i=f.idx+1; i<=l.idx; i++)pr(g,a[i].slice());pr(g,p),pr(g,d);for(var i=l.idx+1; i<=f.idx+e; i++)pr(h,a[i%e].slice());return pr(h,d),pr(h,p),[{points:g},{points:h}]}function rt(a){var r=a.points,t=[],e=[];Zr(r,t,e);var n=new nr(t[0],t[1],e[0]-t[0],e[1]-t[1]),i=n.width,v=n.height,o=n.x,s=n.y,f=new N,l=new N;return i>v?(f.x=l.x=o+i/2,f.y=s,l.y=s+v):(f.y=l.y=s+v/2,f.x=o,l.x=o+i),Nt(r,f,l)}function Rr(a, r, t, e){if(t===1)e.push(r);else{var n=Math.floor(t/2),i=a(r);Rr(a,i[0],n,e),Rr(a,i[1],t-n,e)}return e}function Ht(a, r){for(var t=[],e=0; e<r; e++)t.push(dr(a));return t}function Ut(a, r){r.setStyle(a.style),r.z=a.z,r.z2=a.z2,r.zlevel=a.zlevel}function zt(a){for(var r=[],t=0; t<a.length;)r.push([a[t++],a[t++]]);return r}function et(a, r){var t=[],e=a.shape,n;switch(a.type){case"rect":Rt(e,r,t),n=ba;break;case"sector":$e(e,r,t),n=Kr;break;case"circle":$e({r0:0,r:e.r,startAngle:0,endAngle:Math.PI*2,cx:e.cx,cy:e.cy},r,t),n=Kr;break;default:var i=a.getComputedTransform(),v=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,o=U(Qe(a.getUpdatedPathProxy(),v),function(T){return zt(T)}),s=o.length;if(s===0)Rr(rt,{points:o[0]},r,t);else if(s===r)for(var f=0; f<s; f++)t.push({points:o[f]});else{var l=0,u=U(o,function(T){var I=[],m=[];Zr(T,I,m);var _=(m[1]-I[1])*(m[0]-I[0]);return l+=_,{poly:T,area:_}});u.sort(function(T, I){return I.area-T.area});for(var d=r,f=0; f<s; f++){var p=u[f];if(d<=0)break;var g=f===s-1?d:Math.ceil(p.area/l*r);g<0||(Rr(rt,{points:p.poly},g,t),d-=g)}}n=Pr;break}if(!n)return Ht(a,r);for(var h=[],f=0; f<t.length; f++){var c=new n;c.setShape(t[f]),Ut(a,c),h.push(c)}return h}function Xt(a, r){var t=a.length,e=r.length;if(t===e)return[a,r];for(var n=[],i=[],v=t<e?a:r,o=Math.min(t,e),s=Math.abs(e-t)/6,f=(o-2)/6,l=Math.ceil(s/f)+1,u=[v[0],v[1]],d=s,p=2; p<o;){var g=v[p-2],h=v[p-1],c=v[p++],T=v[p++],I=v[p++],m=v[p++],_=v[p++],x=v[p++];if(d<=0){u.push(c,T,I,m,_,x);continue}for(var y=Math.min(d,l-1)+1,L=1; L<=y; L++){var C=L/y;fr(g,c,I,_,C,n),fr(h,T,m,x,C,i),g=n[3],h=i[3],u.push(n[1],i[1],n[2],i[2],g,h),c=n[5],T=i[5],I=n[6],m=i[6]}d-=y-1}return v===a?[u,r]:[a,u]}function tt(a, r){for(var t=a.length,e=a[t-2],n=a[t-1],i=[],v=0; v<r.length;)i[v++]=e,i[v++]=n;return i}function Vt(a, r){for(var t,e,n,i=[],v=[],o=0; o<Math.max(a.length,r.length); o++){var s=a[o],f=r[o],l=void 0,u=void 0;s?f?(t=Xt(s,f),l=t[0],u=t[1],e=l,n=u):(u=tt(n||s,s),l=s):(l=tt(e||f,f),u=f),i.push(l),v.push(u)}return[i,v]}function nt(a){for(var r=0,t=0,e=0,n=a.length,i=0,v=n-2; i<n; v=i,i+=2){var o=a[v],s=a[v+1],f=a[i],l=a[i+1],u=o*l-f*s;r+=u,t+=(o+f)*u,e+=(s+l)*u}return r===0?[a[0]||0,a[1]||0]:[t/r/3,e/r/3,r]}function wt(a, r, t, e){for(var n=(a.length-2)/6,i=1/0,v=0,o=a.length,s=o-2,f=0; f<n; f++){for(var l=f*6,u=0,d=0; d<o; d+=2){var p=d===0?l:(l+d-2)%s+2,g=a[p]-t[0],h=a[p+1]-t[1],c=r[d]-e[0],T=r[d+1]-e[1],I=c-g,m=T-h;u+=I*I+m*m}u<i&&(i=u,v=f)}return v}function Ft(a){for(var r=[],t=a.length,e=0; e<t; e+=2)r[e]=a[t-e-2],r[e+1]=a[t-e-1];return r}function Zt(a, r, t, e){for(var n=[],i,v=0; v<a.length; v++){var o=a[v],s=r[v],f=nt(o),l=nt(s);i==null&&(i=f[2]<0!=l[2]<0);var u=[],d=[],p=0,g=1/0,h=[],c=o.length;i&&(o=Ft(o));for(var T=wt(o,s,f,l)*6,I=c-2,m=0; m<I; m+=2){var _=(T+m)%I+2;u[m+2]=o[_]-f[0],u[m+3]=o[_+1]-f[1]}if(u[0]=o[T]-f[0],u[1]=o[T+1]-f[1],t>0)for(var x=e/t,y=-e/2; y<=e/2; y+=x){for(var L=Math.sin(y),C=Math.cos(y),M=0,m=0; m<o.length; m+=2){var A=u[m],b=u[m+1],S=s[m]-l[0],k=s[m+1]-l[1],D=S*C-k*L,G=S*L+k*C;h[m]=D,h[m+1]=G;var B=D-A,R=G-b;M+=B*B+R*R}if(M<g){g=M,p=y;for(var O=0; O<h.length; O++)d[O]=h[O]}}else for(var H=0; H<c; H+=2)d[H]=s[H]-l[0],d[H+1]=s[H+1]-l[1];n.push({from:u,to:d,fromCp:f,toCp:l,rotation:-p})}return n}function Ir(a){return a.__isCombineMorphing}var ot="__mOriginal_";function Gr(a, r, t){var e=ot+r,n=a[e]||a[r];a[e]||(a[e]=a[r]);var i=t.replace,v=t.after,o=t.before;a[r]=function(){var s=arguments,f;return o&&o.apply(this,s),i?f=i.apply(this,s):f=n.apply(this,s),v&&v.apply(this,s),f}}function Tr(a, r){var t=ot+r;a[t]&&(a[r]=a[t],a[t]=null)}function it(a, r){for(var t=0; t<a.length; t++)for(var e=a[t],n=0; n<e.length;){var i=e[n],v=e[n+1];e[n++]=r[0]*i+r[2]*v+r[4],e[n++]=r[1]*i+r[3]*v+r[5]}}function vt(a, r){var t=a.getUpdatedPathProxy(),e=r.getUpdatedPathProxy(),n=Vt(Dr(t),Dr(e)),i=n[0],v=n[1],o=a.getComputedTransform(),s=r.getComputedTransform();function f(){this.transform=null}o&&it(i,o),s&&it(v,s),Gr(r,"updateTransform",{replace:f}),r.transform=null;var l=Zt(i,v,10,Math.PI),u=[];Gr(r,"buildPath",{replace:function(d){for(var p=r.__morphT,g=1-p,h=[],c=0; c<l.length; c++){var T=l[c],I=T.from,m=T.to,_=T.rotation*p,x=T.fromCp,y=T.toCp,L=Math.sin(_),C=Math.cos(_);Ia(h,x,y,p);for(var M=0; M<I.length; M+=2){var A=I[M],b=I[M+1],S=m[M],k=m[M+1],D=A*g+S*p,G=b*g+k*p;u[M]=D*C-G*L+h[0],u[M+1]=D*L+G*C+h[1]}var B=u[0],R=u[1];d.moveTo(B,R);for(var M=2; M<I.length;){var S=u[M++],k=u[M++],O=u[M++],H=u[M++],X=u[M++],V=u[M++];B===S&&R===k&&O===X&&H===V?d.lineTo(X,V):d.bezierCurveTo(S,k,O,H,X,V),B=X,R=V}}}})}function Nr(a, r, t){if(!a||!r)return r;var e=t.done,n=t.during;vt(a,r),r.__morphT=0;function i(){Tr(r,"buildPath"),Tr(r,"updateTransform"),r.__morphT=-1,r.createPathProxy(),r.dirtyShape()}return r.animateTo({__morphT:1},Z({during:function(v){r.dirtyShape(),n&&n(v)},done:function(){i(),e&&e()}},t)),r}function Yt(a, r, t, e, n, i){var v=16;a=n===t?0:Math.round(32767*(a-t)/(n-t)),r=i===e?0:Math.round(32767*(r-e)/(i-e));for(var o=0,s,f=(1<<v)/2; f>0; f/=2){var l=0,u=0;(a&f)>0&&(l=1),(r&f)>0&&(u=1),o+=f*f*(3*l^u),u===0&&(l===1&&(a=f-1-a,r=f-1-r),s=a,a=r,r=s)}return o}function Or(a){var r=1/0,t=1/0,e=-1/0,n=-1/0,i=U(a,function(o){var s=o.getBoundingRect(),f=o.getComputedTransform(),l=s.x+s.width/2+(f?f[4]:0),u=s.y+s.height/2+(f?f[5]:0);return r=Math.min(l,r),t=Math.min(u,t),e=Math.max(l,e),n=Math.max(u,n),[l,u]}),v=U(i,function(o, s){return{cp:o,z:Yt(o[0],o[1],r,t,e,n),path:a[s]}});return v.sort(function(o, s){return o.z-s.z}).map(function(o){return o.path})}function st(a){return et(a.path,a.count)}function oa(){return{fromIndividuals:[],toIndividuals:[],count:0}}function ft(a, r, t){var e=[];function n(x){for(var y=0; y<x.length; y++){var L=x[y];Ir(L)?n(L.childrenRef()):L instanceof K&&e.push(L)}}n(a);var i=e.length;if(!i)return oa();var v=t.dividePath||st,o=v({path:r,count:i});if(o.length!==i)return console.error("Invalid morphing: unmatched splitted path"),oa();e=Or(e),o=Or(o);for(var s=t.done,f=t.during,l=t.individualDelay,u=new Ar,d=0; d<i; d++){var p=e[d],g=o[d];g.parent=r,g.copyTransform(u),l||vt(p,g)}r.__isCombineMorphing=!0,r.childrenRef=function(){return o};function h(x){for(var y=0; y<o.length; y++)o[y].addSelfToZr(x)}Gr(r,"addSelfToZr",{after:function(x){h(x)}}),Gr(r,"removeSelfFromZr",{after:function(x){for(var y=0; y<o.length; y++)o[y].removeSelfFromZr(x)}});function c(){r.__isCombineMorphing=!1,r.__morphT=-1,r.childrenRef=null,Tr(r,"addSelfToZr"),Tr(r,"removeSelfFromZr")}var T=o.length;if(l)for(var I=T,m=function(){I--,I===0&&(c(),s&&s())},d=0; d<T; d++){var _=l?Z({delay:(t.delay||0)+l(d,T,e[d],o[d]),done:m},t):t;Nr(e[d],o[d],_)}else r.__morphT=0,r.animateTo({__morphT:1},Z({during:function(x){for(var y=0; y<T; y++){var L=o[y];L.__morphT=r.__morphT,L.dirtyShape()}f&&f(x)},done:function(){c();for(var x=0; x<a.length; x++)Tr(a[x],"updateTransform");s&&s()}},t));return r.__zr&&h(r.__zr),{fromIndividuals:e,toIndividuals:o,count:T}}function lt(a, r, t){var e=r.length,n=[],i=t.dividePath||st;function v(p){for(var g=0; g<p.length; g++){var h=p[g];Ir(h)?v(h.childrenRef()):h instanceof K&&n.push(h)}}if(Ir(a)){v(a.childrenRef());var o=n.length;if(o<e)for(var s=0,f=o; f<e; f++)n.push(dr(n[s++%o]));n.length=e}else{n=i({path:a,count:e});for(var l=a.getComputedTransform(),f=0; f<n.length; f++)n[f].setLocalTransform(l);if(n.length!==e)return console.error("Invalid morphing: unmatched splitted path"),oa()}n=Or(n),r=Or(r);for(var u=t.individualDelay,f=0; f<e; f++){var d=u?Z({delay:(t.delay||0)+u(f,e,n[f],r[f])},t):t;Nr(n[f],r[f],d)}return{fromIndividuals:n,toIndividuals:r,count:r.length}}function dt(a){return tr(a[0])}function ut(a, r){for(var t=[],e=a.length,n=0; n<e; n++)t.push({one:a[n],many:[]});for(var n=0; n<r.length; n++){var i=r[n].length,v=void 0;for(v=0; v<i; v++)t[v%e].many.push(r[n][v])}for(var o=0,n=e-1; n>=0; n--)if(!t[n].many.length){var s=t[o].many;if(s.length<=1)if(o)o=0;else return t;var i=s.length,f=Math.ceil(i/2);t[n].many=s.slice(f,i),t[o].many=s.slice(0,f),o++}return t}var Kt={clone:function(a){for(var r=[],t=1-Math.pow(1-a.path.style.opacity,1/a.count),e=0; e<a.count; e++){var n=dr(a.path);n.setStyle("opacity",t),r.push(n)}return r},split:null};function Hr(a, r, t, e, n, i){if(!a.length||!r.length)return;var v=xr("update",e,n);if(!(v&&v.duration>0))return;var o=e.getModel("universalTransition").get("delay"),s=Object.assign({setToFinal:!0},v),f,l;dt(a)&&(f=a,l=r),dt(r)&&(f=r,l=a);function u(T, I, m, _, x){var y=T.many,L=T.one;if(y.length===1&&!x){var C=I?y[0]:L,M=I?L:y[0];if(Ir(C))u({many:[C],one:M},!0,m,_,!0);else{var A=o?Z({delay:o(m,_)},s):s;Nr(C,M,A),i(C,M,C,M,A)}}else for(var b=Z({dividePath:Kt[t],individualDelay:o&&function(R, O, H, X){return o(R+m,_)}},s),S=I?ft(y,L,b):lt(L,y,b),k=S.fromIndividuals,D=S.toIndividuals,G=k.length,B=0; B<G; B++){var A=o?Z({delay:o(B,G)},s):s;i(k[B],D[B],I?y[B]:T.one,I?T.one:y[B],A)}}for(var d=f?f===a:a.length>r.length,p=f?ut(l,f):ut(d?r:a,[d?a:r]),g=0,h=0; h<p.length; h++)g+=p[h].many.length;for(var c=0,h=0; h<p.length; h++)u(p[h],d,c,g),c+=p[h].many.length}function q(a){if(!a)return[];if(tr(a)){for(var r=[],t=0; t<a.length; t++)r.push(q(a[t]));return r}var e=[];return a.traverse(function(n){n instanceof K&&!n.disableMorphing&&!n.invisible&&!n.ignore&&e.push(n)}),e}var Mt=1e4,Wt=0,pt=1,ct=2,qt=Y();function Jt(a, r){for(var t=a.dimensions,e=0; e<t.length; e++){var n=a.getDimensionInfo(t[e]);if(n&&n.otherDims[r]===0)return t[e]}}function Qt(a, r, t){var e=a.getDimensionInfo(t),n=e&&e.ordinalMeta;if(e){var i=a.get(e.name,r);return n&&n.categories[i]||i+""}}function ht(a, r, t, e){var n=e?"itemChildGroupId":"itemGroupId",i=Jt(a,n);if(i){var v=Qt(a,r,i);return v}var o=a.getRawDataItem(r),s=e?"childGroupId":"groupId";if(o&&o[s])return o[s]+"";if(!e)return t||a.getId(r)}function gt(a){var r=[];return P(a,function(t){var e=t.data,n=t.dataGroupId;if(!(e.count()>Mt))for(var i=e.getIndices(),v=0; v<i.length; v++)r.push({data:e,groupId:ht(e,v,n,!1),childGroupId:ht(e,v,n,!0),divide:t.divide,dataIndex:v})}),r}function va(a, r, t){a.traverse(function(e){e instanceof K&&yr(e,{style:{opacity:0}},r,{dataIndex:t,isFrom:!0})})}function sa(a){if(a.parent){var r=a.getComputedTransform();a.setLocalTransform(r),a.parent.remove(a)}}function cr(a){a.stopAnimation(),a.isGroup&&a.traverse(function(r){r.stopAnimation()})}function $t(a, r, t){var e=xr("update",t,r);e&&a.traverse(function(n){if(n instanceof Ea){var i=Da(n);i&&n.animateFrom({style:i},e)}})}function jt(a, r){var t=a.length;if(t!==r.length)return!1;for(var e=0; e<t; e++){var n=a[e],i=r[e];if(n.data.getId(n.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function Tt(a, r, t){var e=gt(a),n=gt(r);function i(m, _, x, y, L){(x||m)&&_.animateFrom({style:x&&x!==m?mr(mr({},x.style),m.style):m.style},L)}var v=!1,o=Wt,s=sr(),f=sr();e.forEach(function(m){m.groupId&&s.set(m.groupId,!0),m.childGroupId&&f.set(m.childGroupId,!0)});for(var l=0; l<n.length; l++){var u=n[l].groupId;if(f.get(u)){o=pt;break}var d=n[l].childGroupId;if(d&&s.get(d)){o=ct;break}}function p(m, _){return function(x){var y=x.data,L=x.dataIndex;return _?y.getId(L):m?o===pt?x.childGroupId:x.groupId:o===ct?x.childGroupId:x.groupId}}var g=jt(e,n),h={};if(!g)for(var l=0; l<n.length; l++){var c=n[l],T=c.data.getItemGraphicEl(c.dataIndex);T&&(h[T.id]=!0)}function I(m, _){var x=e[_],y=n[m],L=y.data.hostModel,C=x.data.getItemGraphicEl(x.dataIndex),M=y.data.getItemGraphicEl(y.dataIndex);if(C===M){M&&$t(M,y.dataIndex,L);return}C&&h[C.id]||M&&(cr(M),C?(cr(C),sa(C),v=!0,Hr(q(C),q(M),y.divide,L,m,i)):va(M,L,m))}new Jr(e,n,p(!0,g),p(!1,g),null,"multiple").update(I).updateManyToOne(function(m, _){var x=n[m],y=x.data,L=y.hostModel,C=y.getItemGraphicEl(x.dataIndex),M=ar(U(_,function(A){return e[A].data.getItemGraphicEl(e[A].dataIndex)}),function(A){return A&&A!==C&&!h[A.id]});C&&(cr(C),M.length?(P(M,function(A){cr(A),sa(A)}),v=!0,Hr(q(M),q(C),x.divide,L,m,i)):va(C,L,x.dataIndex))}).updateOneToMany(function(m, _){var x=e[_],y=x.data.getItemGraphicEl(x.dataIndex);if(!(y&&h[y.id])){var L=ar(U(m,function(M){return n[M].data.getItemGraphicEl(n[M].dataIndex)}),function(M){return M&&M!==y}),C=n[m[0]].data.hostModel;L.length&&(P(L,function(M){return cr(M)}),y?(cr(y),sa(y),v=!0,Hr(q(y),q(L),x.divide,C,m[0],i)):P(L,function(M){return va(M,C,m[0])}))}}).updateManyToMany(function(m, _){new Jr(_,m,function(x){return e[x].data.getId(e[x].dataIndex)},function(x){return n[x].data.getId(n[x].dataIndex)}).update(function(x, y){I(m[x],_[y])}).execute()}).execute(),v&&P(r,function(m){var _=m.data,x=_.hostModel,y=x&&t.getViewOfSeriesModel(x),L=xr("update",x,0);y&&x.isAnimationEnabled()&&L&&L.duration>0&&y.group.traverse(function(C){C instanceof K&&!C.animators.length&&C.animateFrom({style:{opacity:0}},L)})})}function mt(a){var r=a.getModel("universalTransition").get("seriesKey");return r||a.id}function xt(a){return tr(a)?a.sort().join(","):a}function J(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function rn(a, r){var t=sr(),e=sr(),n=sr();P(a.oldSeries,function(v, o){var s=a.oldDataGroupIds[o],f=a.oldData[o],l=mt(v),u=xt(l);e.set(u,{dataGroupId:s,data:f}),tr(l)&&P(l,function(d){n.set(d,{key:u,dataGroupId:s,data:f})})});function i(v){t.get(v)&&Aa("Duplicated seriesKey in universalTransition "+v)}return P(r.updatedSeries,function(v){if(v.isUniversalTransitionEnabled()&&v.isAnimationEnabled()){var o=v.get("dataGroupId"),s=v.getData(),f=mt(v),l=xt(f),u=e.get(l);if(u)t.set(l,{oldSeries:[{dataGroupId:u.dataGroupId,divide:J(u.data),data:u.data}],newSeries:[{dataGroupId:o,divide:J(s),data:s}]});else if(tr(f)){var d=[];P(f,function(h){var c=e.get(h);c.data&&d.push({dataGroupId:c.dataGroupId,divide:J(c.data),data:c.data})}),d.length&&t.set(l,{oldSeries:d,newSeries:[{dataGroupId:o,data:s,divide:J(s)}]})}else{var p=n.get(f);if(p){var g=t.get(p.key);g||(g={oldSeries:[{dataGroupId:p.dataGroupId,data:p.data,divide:J(p.data)}],newSeries:[]},t.set(p.key,g)),g.newSeries.push({dataGroupId:o,data:s,divide:J(s)})}}}}),t}function yt(a, r){for(var t=0; t<a.length; t++){var e=r.seriesIndex!=null&&r.seriesIndex===a[t].seriesIndex||r.seriesId!=null&&r.seriesId===a[t].id;if(e)return t}}function an(a, r, t, e){var n=[],i=[];P(lr(a.from),function(v){var o=yt(r.oldSeries,v);o>=0&&n.push({dataGroupId:r.oldDataGroupIds[o],data:r.oldData[o],divide:J(r.oldData[o]),groupIdDim:v.dimension})}),P(lr(a.to),function(v){var o=yt(t.updatedSeries,v);if(o>=0){var s=t.updatedSeries[o].getData();i.push({dataGroupId:r.oldDataGroupIds[o],data:s,divide:J(s),groupIdDim:v.dimension})}}),n.length>0&&i.length>0&&Tt(n,i,e)}function fa(a){a.registerUpdateLifecycle("series:beforeupdate",function(r, t, e){P(lr(e.seriesTransition),function(n){P(lr(n.to),function(i){for(var v=e.updatedSeries,o=0; o<v.length; o++)(i.seriesIndex!=null&&i.seriesIndex===v[o].seriesIndex||i.seriesId!=null&&i.seriesId===v[o].id)&&(v[o][br]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(r, t, e){var n=qt(t);if(n.oldSeries&&e.updatedSeries&&e.optionChanged){var i=e.seriesTransition;if(i)P(lr(i),function(p){an(p,n,e,t)});else{var v=rn(n,e);P(v.keys(),function(p){var g=v.get(p);Tt(g.oldSeries,g.newSeries,t)})}P(e.updatedSeries,function(p){p[br]&&(p[br]=!1)})}for(var o=r.getSeries(),s=n.oldSeries=[],f=n.oldDataGroupIds=[],l=n.oldData=[],u=0; u<o.length; u++){var d=o[u].getData();d.count()<Mt&&(s.push(o[u]),f.push(o[u].get("dataGroupId")),l.push(d))}})}var en=function(){function a(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return a.prototype.setBreaks=function(r){this.breaks=r.breaks},a.prototype.update=function(r){nn(this,r);var t=this._elapsedExtent;t[0]=this.elapse(r[0]),t[1]=this.elapse(r[1])},a.prototype.hasBreaks=function(){return!!this.breaks.length},a.prototype.calcNiceTickMultiple=function(r, t){for(var e=0; e<this.breaks.length; e++){var n=this.breaks[e];if(n.vmin<r&&r<n.vmax){var i=t(r,n.vmax);return i}}return 0},a.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},a.prototype.normalize=function(r){var t=this._elapsedExtent[1]-this._elapsedExtent[0];return t===0?.5:(this.elapse(r)-this._elapsedExtent[0])/t},a.prototype.scale=function(r){return this.unelapse(r*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},a.prototype.elapse=function(r){for(var t=It,e=Lt,n=!0,i=0; i<this.breaks.length; i++){var v=this.breaks[i];if(r<=v.vmax){r>v.vmin?t+=v.vmin-e+(r-v.vmin)/(v.vmax-v.vmin)*v.gapReal:t+=r-e,e=v.vmax,n=!1;break}t+=v.vmin-e+v.gapReal,e=v.vmax}return n&&(t+=r-e),t},a.prototype.unelapse=function(r){for(var t=It,e=Lt,n=!0,i=0,v=0; v<this.breaks.length; v++){var o=this.breaks[v],s=t+o.vmin-e,f=s+o.gapReal;if(r<=f){r>s?i=o.vmin+(r-s)/(f-s)*(o.vmax-o.vmin):i=e+r-t,e=o.vmax,n=!1;break}t=f,e=o.vmax}return n&&(i=e+r-t),i},a}();function tn(){return new en}var It=0,Lt=0;function nn(a, r){var t=0,e={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},n=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},i={S:{tpAbs:n(),tpPrct:n()},E:{tpAbs:n(),tpPrct:n()}};P(a.breaks,function(o){var s=o.gapParsed;s.type==="tpPrct"&&(t+=s.val);var f=ua(o,r);if(f){var l=f.vmin!==o.vmin,u=f.vmax!==o.vmax,d=f.vmax-f.vmin;if(!(l&&u))if(l||u){var p=l?"S":"E";i[p][s.type].has=!0,i[p][s.type].span=d,i[p][s.type].inExtFrac=d/(o.vmax-o.vmin),i[p][s.type].val=s.val}else e[s.type].span+=d,e[s.type].val+=s.val}});var v=t*(0+(r[1]-r[0])+(e.tpAbs.val-e.tpAbs.span)+(i.S.tpAbs.has?(i.S.tpAbs.val-i.S.tpAbs.span)*i.S.tpAbs.inExtFrac:0)+(i.E.tpAbs.has?(i.E.tpAbs.val-i.E.tpAbs.span)*i.E.tpAbs.inExtFrac:0)-e.tpPrct.span-(i.S.tpPrct.has?i.S.tpPrct.span*i.S.tpPrct.inExtFrac:0)-(i.E.tpPrct.has?i.E.tpPrct.span*i.E.tpPrct.inExtFrac:0))/(1-e.tpPrct.val-(i.S.tpPrct.has?i.S.tpPrct.val*i.S.tpPrct.inExtFrac:0)-(i.E.tpPrct.has?i.E.tpPrct.val*i.E.tpPrct.inExtFrac:0));P(a.breaks,function(o){var s=o.gapParsed;s.type==="tpPrct"&&(o.gapReal=t!==0?Math.max(v,0)*s.val/t:0),s.type==="tpAbs"&&(o.gapReal=s.val),o.gapReal==null&&(o.gapReal=0)})}function on(a, r, t, e, n, i){a!=="no"&&P(t,function(v){var o=ua(v,i);if(o)for(var s=r.length-1; s>=0; s--){var f=r[s],l=e(f),u=n*3/4;l>o.vmin-u&&l<o.vmax+u&&(a!=="preserve_extent_bound"||l!==i[0]&&l!==i[1])&&r.splice(s,1)}})}function vn(a, r, t, e){P(r,function(n){var i=ua(n,t);i&&(a.push({value:i.vmin,break:{type:"vmin",parsedBreak:i},time:e?e(i):void 0}),a.push({value:i.vmax,break:{type:"vmax",parsedBreak:i},time:e?e(i):void 0}))}),r.length&&a.sort(function(n, i){return n.value-i.value})}function ua(a, r){var t=Math.max(a.vmin,r[0]),e=Math.min(a.vmax,r[1]);return t<e||t===e&&t>r[0]&&t<r[1]?{vmin:t,vmax:e,breakOption:a.breakOption,gapParsed:a.gapParsed,gapReal:a.gapReal}:null}function la(a, r, t){var e=[];if(!a)return{breaks:e};function n(v, o){return v>=0&&v<1-1e-5}P(a,function(v){if(!(!v||v.start==null||v.end==null)&&!v.isExpanded){var o={breakOption:ga(v),vmin:r(v.start),vmax:r(v.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(v.gap!=null){var s=!1;if(xa(v.gap)){var f=Ta(v.gap);if(f.match(/%$/)){var l=parseFloat(f)/100;n(l,"Percent gap")||(l=0),o.gapParsed.type="tpPrct",o.gapParsed.val=l,s=!0}}if(!s){var u=r(v.gap);(!isFinite(u)||u<0)&&(u=0),o.gapParsed.type="tpAbs",o.gapParsed.val=u}}if(o.vmin===o.vmax&&(o.gapParsed.type="tpAbs",o.gapParsed.val=0),t&&t.noNegative&&P(["vmin","vmax"],function(p){o[p]<0&&(o[p]=0)}),o.vmin>o.vmax){var d=o.vmax;o.vmax=o.vmin,o.vmin=d}e.push(o)}}),e.sort(function(v, o){return v.vmin-o.vmin});var i=-1/0;return P(e,function(v, o){i>v.vmin&&(e[o]=null),i=v.vmax}),{breaks:e.filter(function(v){return!!v})}}function pa(a, r){return da(r)===da(a)}function da(a){return a.start+"_\0_"+a.end}function sn(a, r, t){var e=[];P(a,function(i, v){var o=r(i);o&&o.type==="vmin"&&e.push([v])}),P(a,function(i, v){var o=r(i);if(o&&o.type==="vmax"){var s=er(e,function(f){return pa(r(a[f[0]]).parsedBreak.breakOption,o.parsedBreak.breakOption)});s&&s.push(v)}});var n=[];return P(e,function(i){i.length===2&&n.push(t?i:[a[i[0]],a[i[1]]])}),n}function fn(a, r, t, e){var n,i;if(a.break){var v=a.break.parsedBreak,o=er(t,function(u){return pa(u.breakOption,a.break.parsedBreak.breakOption)}),s=e(Math.pow(r,v.vmin),o.vmin),f=e(Math.pow(r,v.vmax),o.vmax),l={type:v.gapParsed.type,val:v.gapParsed.type==="tpAbs"?Ca(Math.pow(r,v.vmin+v.gapParsed.val))-s:v.gapParsed.val};n={type:a.break.type,parsedBreak:{breakOption:v.breakOption,vmin:s,vmax:f,gapParsed:l,gapReal:v.gapReal}},i=o[a.break.type]}return{brkRoundingCriterion:i,vBreak:n}}function ln(a, r, t){var e={noNegative:!0},n=la(a,t,e),i=la(a,t,e),v=Math.log(r);return i.breaks=U(i.breaks,function(o){var s=Math.log(o.vmin)/v,f=Math.log(o.vmax)/v,l={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Math.log(o.vmin+o.gapParsed.val)/v-s:o.gapParsed.val};return{vmin:s,vmax:f,gapParsed:l,gapReal:o.gapReal,breakOption:o.breakOption}}),{parsedOriginal:n,parsedLogged:i}}var dn={vmin:"start",vmax:"end"};function un(a, r){return r&&(a=a||{},a.break={type:dn[r.type],start:r.parsedBreak.vmin,end:r.parsedBreak.vmax}),a}function _t(){Oa({createScaleBreakContext:tn,pruneTicksByBreak:on,addBreaksToTicks:vn,parseAxisBreakOption:la,identifyAxisBreak:pa,serializeAxisBreakIdentifier:da,retrieveAxisBreakPairs:sn,getTicksLogTransformBreak:fn,logarithmicParseBreaksFromOption:ln,makeAxisLabelFormatterParamBreak:un})}var Ct=Y();function pn(a, r){var t=er(a,function(e){return W().identifyAxisBreak(e.parsedBreak.breakOption,r.breakOption)});return t||a.push(t={zigzagRandomList:[],parsedBreak:r,shouldRemove:!1}),t}function cn(a){P(a,function(r){return r.shouldRemove=!0})}function hn(a){for(var r=a.length-1; r>=0; r--)a[r].shouldRemove&&a.splice(r,1)}function gn(a, r, t, e, n){var i=t.axis;if(i.scale.isBlank()||!W())return;var v=W().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(M){return M.break},!1);if(!v.length)return;var o=t.getModel("breakArea"),s=o.get("zigzagAmplitude"),f=o.get("zigzagMinSpan"),l=o.get("zigzagMaxSpan");f=Math.max(2,f||0),l=Math.max(f,l||0);var u=o.get("expandOnClick"),d=o.get("zigzagZ"),p=o.getModel("itemStyle"),g=p.getItemStyle(),h=g.stroke,c=g.lineWidth,T=g.lineDash,I=g.fill,m=new wr({ignoreModelZ:!0}),_=i.isHorizontal(),x=Ct(r).visualList||(Ct(r).visualList=[]);cn(x);for(var y=function(M){var A=v[M][0].break.parsedBreak,b=[];b[0]=i.toGlobalCoord(i.dataToCoord(A.vmin,!0)),b[1]=i.toGlobalCoord(i.dataToCoord(A.vmax,!0)),b[1]<b[0]&&b.reverse();var S=pn(x,A);S.shouldRemove=!1;var k=new wr;C(S.zigzagRandomList,k,b[0],b[1],_,A),u&&k.on("click",function(){var D={type:ra,breaks:[{start:A.breakOption.start,end:A.breakOption.end}]};D[i.dim+"AxisIndex"]=t.componentIndex,n.dispatchAction(D)}),k.silent=!u,m.add(k)},L=0; L<v.length; L++)y(L);a.add(m),hn(x);function C(M, A, b, S, k, D){var G={stroke:h,lineWidth:c,lineDash:T,fill:"none"},B=k?0:1,R=1-B,O=e[Mr[R]]+e[kr[R]];function H(Pt){var rr=[],_r=[];rr[B]=_r[B]=Pt,rr[R]=e[Mr[R]],_r[R]=O;var Cr={x1:rr[0],y1:rr[1],x2:_r[0],y2:_r[1]};return Yr(Cr,Cr,{lineWidth:1}),rr[0]=Cr.x1,rr[1]=Cr.y1,rr[B]}b=H(b),S=H(S);for(var X=[],V=[],Q=!0,F=e[Mr[R]],ir=0;; ir++){var Lr=F===e[Mr[R]],hr=F>=O;hr&&(F=O);var or=[],$=[];or[B]=b,$[B]=S,!Lr&&!hr&&(or[B]+=Q?-s:s,$[B]-=Q?s:-s),or[R]=F,$[R]=F,X.push(or),V.push($);var j=void 0;if(ir<M.length?j=M[ir]:(j=Math.random(),M.push(j)),F+=j*(l-f)+f,Q=!Q,hr)break}var vr=W().serializeAxisBreakIdentifier(D.breakOption);if(A.add(new Wr({anid:"break_a_"+vr,shape:{points:X},style:G,z:d})),D.gapReal!==0){A.add(new Wr({anid:"break_b_"+vr,shape:{points:V},style:G,z:d}));var gr=V.slice();gr.reverse();var Et=X.concat(gr);A.add(new Pr({anid:"break_c_"+vr,shape:{points:Et},style:{fill:I,opacity:g.opacity},z:d}))}}}function mn(a, r, t, e){var n=a.axis,i=t.transform;Ma(e.style);var v=n.getExtent();n.inverse&&(v=v.slice(),v.reverse());var o=W().retrieveAxisBreakPairs(n.scale.getTicks({breakTicks:"only_break"}),function(c){return c.break},!1),s=U(o,function(c){var T=c[0].break.parsedBreak,I=[n.dataToCoord(T.vmin,!0),n.dataToCoord(T.vmax,!0)];return I[0]>I[1]&&I.reverse(),{coordPair:I,brkId:W().serializeAxisBreakIdentifier(T.breakOption)}});s.sort(function(c, T){return c.coordPair[0]-T.coordPair[0]});for(var f=v[0],l=null,u=0; u<s.length; u++){var d=s[u],p=Math.max(d.coordPair[0],v[0]),g=Math.min(d.coordPair[1],v[1]);f<=p&&h(f,p,l,d),f=g,l=d}f<=v[1]&&h(f,v[1],l,null);function h(c, T, I, m){function _(b, S){i&&(Xr(b,b,i),Xr(S,S,i))}function x(b, S){var k={x1:b[0],y1:b[1],x2:S[0],y2:S[1]};Yr(k,k,e.style),b[0]=k.x1,b[1]=k.y1,S[0]=k.x2,S[1]=k.y2}var y=[c,0],L=[T,0],C=[c,5],M=[T,5];_(y,C),x(y,C),_(L,M),x(L,M),x(y,L);var A=new Ba(mr({shape:{x1:y[0],y1:y[1],x2:L[0],y2:L[1]}},e));r.add(A),A.anid="breakLine_"+(I?I.brkId:"\0")+"_\0_"+(m?m.brkId:"\0")}}function xn(a, r, t){if(er(t,function(I){return!I}))return;var e=new N;if(!Fa(t[0],t[1],e,{direction:-(a?r+Math.PI:r),touchThreshold:0,bidirectional:!1}))return;var n=Vr();_a(n,n,-r);var i=U(t,function(I){return I.transform?La(Vr(),n,I.transform):n});function v(I){var m=t[0].localRect,_=new N(m[kr[I]]*i[0][0],m[kr[I]]*i[0][1]);return Math.abs(_.y)<1e-5}var o=.5;if(v(0)||v(1)){var s=U(t,function(I, m){var _=I.localRect.clone();return _.applyTransform(i[m]),_}),f=new N;f.copy(t[0].label).add(t[1].label).scale(.5),f.transform(n);var l=e.clone().transform(n),u=s[0].x+s[1].x+(l.x>=0?s[0].width:s[1].width),d=(u+l.x)/2-f.x,p=Math.min(d,d-l.x),g=Math.max(d,d-l.x),h=g<0?g:p>0?p:0;o=(d-h)/l.x}var c=new N,T=new N;N.scale(c,e,-o),N.scale(T,e,1-o),$r(t[0],c),$r(t[1],T)}function yn(a, r){var t={breaks:[]};return P(r.breaks,function(e){if(e){var n=er(a.get("breaks",!0),function(o){return W().identifyAxisBreak(o,e)});if(n){var i=r.type,v={isExpanded:!!n.isExpanded};n.isExpanded=i===ra?!0:i===Qa?!1:i===$a?!n.isExpanded:n.isExpanded,t.breaks.push({start:n.start,end:n.end,isExpanded:!!n.isExpanded,old:v})}}}),t}function At(){Ja({adjustBreakLabelPair:xn,buildAxisBreakLine:mn,rectCoordBuildBreakAxis:gn,updateModelAxisBreak:yn})}function ca(a){ja(a),_t(),At()}function ha(){re(Mn)}function Mn(a, r){P(a,function(t){if(!t.model.get(["axisLabel","inside"])){var e=Tn(t);if(e){var n=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]);r[n]-=e[n]+i,t.position==="top"?r.y+=e.height+i:t.position==="left"&&(r.x+=e.width+i)}}})}function Tn(a){var r=a.model,t=a.scale;if(!r.get(["axisLabel","show"])||t.isBlank())return;var e,n,i=t.getExtent();t instanceof Na?n=t.count():(e=t.getTicks(),n=e.length);var v=a.getLabelModel(),o=Ha(a),s,f=1;n>40&&(f=Math.ceil(n/40));for(var l=0; l<n; l+=f){var u=e?e[l]:{value:i[0]+l},d=o(u,l),p=v.getTextRect(d),g=h(p,v.get("rotate")||0);s?s.union(g):s=g}return s;function h(c, T){var I=T*Math.PI/180,m=c.width,_=c.height,x=m*Math.abs(Math.cos(I))+Math.abs(_*Math.sin(I)),y=m*Math.abs(Math.sin(I))+Math.abs(_*Math.cos(I)),L=new nr(c.x,c.y,x,y);return L}}E([Ya]);E([Za]);E([Ka,Wa,qa,ae,ee,ne,ie,oe,ve,se,fe,le,ue,pe,ce,he,ge,me,xe,ye,Me,Te,Ie]);E(_e);E(Ce);E(te);E(Ae);E(de);E(Ee);E(Pe);E(ke);E(be);E(Be);E(Le);E(Se);E(De);E(Re);E(Ge);E(Oe);E(Ne);E(He);E(Xe);E(Ue);E(ze);E(Fe);E(Ve);E(we);E(Ze);E(Ye);E(Ke);E(We);E(fa);E(na);E(ca);E(ha);E(aa);export{xi as Axis,Dn as ChartView,bn as ComponentModel,Sn as ComponentView,li as List,Pn as Model,Hn as PRIORITY,Bn as SeriesModel,An as color,zn as connect,fi as dataTool,Nn as dependencies,Vn as disConnect,Xn as disconnect,wn as dispose,In as env,Ii as extendChartView,yi as extendComponentModel,Mi as extendComponentView,Ti as extendSeriesModel,gi as format,ri as getCoordinateSystemDimensions,Fn as getInstanceByDom,Zn as getInstanceById,vi as getMap,hi as graphic,di as helper,Un as init,Gn as innerDrawElementOnCanvas,kt as matrix,pi as number,ui as parseGeoJSON,ui as parseGeoJson,$n as registerAction,jn as registerCoordinateSystem,ai as registerCustomSeries,ei as registerLayout,ni as registerLoading,kn as registerLocale,oi as registerMap,qn as registerPostInit,Jn as registerPostUpdate,Kn as registerPreprocessor,Wn as registerProcessor,Yn as registerTheme,si as registerTransform,Qn as registerUpdateLifecycle,ti as registerVisual,ii as setCanvasCreator,Ln as setPlatformAPI,Rn as throttle,ci as time,E as use,mi as util,Cn as vector,On as version,_n as zrUtil,En as zrender};
